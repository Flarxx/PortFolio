{% extends 'nucleo/layout.html' %}
{% load static %}

{% block extra_css %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
  <link rel="stylesheet" href="{% static 'css/certificados.css' %}">
{% endblock %}

{% block content %}
<section class="certificados-section">
  <div class="container-carousel">
    <div class="swiper certificados-swiper">
      <div class="swiper-wrapper">
        {% for cert in certificates %}
          <div class="swiper-slide">
            <article class="card-cert">
              <div class="cert-frame">
                {% if cert.imagen %}
                  <img src="{{ cert.imagen.url }}" alt="{{ cert.titulo }}" class="cert-image">
                {% else %}
                  <img src="{% static 'images/placeholder-cert.jpg' %}" alt="Sin imagen" class="cert-image">
                {% endif %}
              </div>

              <div class="card-info">
                <h3 class="cert-title">{{ cert.titulo }}</h3>
                <p class="cert-sub">
                  {{ cert.emisor }}{% if cert.fecha %} Â· {{ cert.fecha|date:"d M Y" }}{% endif %}
                </p>
                {% if cert.enlace_externo %}
                  <a class="btn-view" href="{{ cert.enlace_externo }}" target="_blank" rel="noopener">Ver Certificado</a>
                {% elif cert.archivo %}
                  <a class="btn-view" href="{{ cert.archivo.url }}" target="_blank" rel="noopener">Ver Archivo</a>
                {% endif %}
              </div>
            </article>
          </div>
        {% empty %}
          <div class="no-certs">No hay certificados para mostrar.</div>
        {% endfor %}
      </div>

      <!-- Flechas -->
      <div class="custom-prev">&#10094;</div>
      <div class="custom-next">&#10095;</div>

      <!-- Dots -->
      <div class="swiper-pagination"></div>
    </div>
  </div>
</section>
{% endblock %}

{% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script src="{% static 'js/certificados.js' %}"></script>
{% endblock %}
