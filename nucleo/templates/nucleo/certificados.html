{% extends 'nucleo/layout.html' %}
{% load static %}

{% block extra_css %}
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
  <!-- Tu CSS personalizado -->
  <link rel="stylesheet" href="{% static 'css/certificados.css' %}">
{% endblock %}

{% block content %}
<section class="certificados-section">
  <div class="container-carousel">
    <div class="swiper certificados-swiper">
      <div class="swiper-wrapper">
        {% for cert in certificates %}
          <div class="swiper-slide">
            <article class="card-cert">
              <div class="cert-frame">
                <!-- Swiper lazy: data-src en vez de src -->
                <img data-src="{{ cert.image_url }}" alt="{{ cert.title }}" class="cert-image swiper-lazy">
                <div class="swiper-lazy-preloader"></div>
              </div>

              <div class="card-info">
                <h3 class="cert-title">{{ cert.title }}</h3>
                <p class="cert-sub">{{ cert.issuer }} Â· {{ cert.date }}</p>
                <a class="btn-view" href="{{ cert.certificate_url }}" target="_blank" rel="noopener">Ver Certificado</a>
              </div>
            </article>
          </div>
        {% empty %}
          <div class="no-certs">No hay certificados para mostrar.</div>
        {% endfor %}
      </div>

      <!-- Flechas custom (SVG) -->
      <div class="custom-nav custom-prev" aria-label="Anterior" role="button" tabindex="0">
        <svg width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M44 18 L26 35 L44 52" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>

      <div class="custom-nav custom-next" aria-label="Siguiente" role="button" tabindex="0">
        <svg width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M26 18 L44 35 L26 52" stroke="currentColor" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>

      <!-- Pagination (dots) -->
      <div class="swiper-pagination"></div>
    </div>
  </div>
</section>
{% endblock %}

{% block scripts %}
  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <!-- Tu JS personalizado -->
  <script src="{% static 'js/certificados.js' %}"></script>
{% endblock %}
